words == "cistico" ~ "cístico",
words == "delimitada" ~ "delimitado",
words == "associada" ~ "associado",
words == "inclusa" ~ "incluso",
words == "expansiva" ~ "expansivo",
words == "radiolucido" ~ "radiolúcido",
words == "hipodensa" ~ "hipodenso",
words == "retida" ~ "retido",
words == "radiopaca" ~ "radiopaco",
words == "intraóssea" ~ "intraósseo",
words == "gordurosa" ~ "gorduroso",
TRUE ~ words
))
df = df %>%
mutate(n=1) %>%
group_by(words) %>%
summarise(n=sum(n)) %>%
mutate(len=str_length(words)) %>%
filter(len>3)
df = df %>%
mutate(n=1) %>%
group_by(words) %>%
summarise(n=sum(n)) %>%
mutate(len=str_length(words)) %>%
filter(len>3)
df = filter(df,!(words %in% c("38","48","13","34","46","12","33","47","em","da","do","de","a","com","ao","na","o","os","as","até","26","25","11","111213","22","24","37","15","28","sem","e","por")))
wordcloud(df$words, freq=df$n, max.words = 400, min.freq = 1, random.order = F,
colors=c("gray37",rep("red2",6),rep("red3",10),rep("red4",20)))
wordcloud(df$words, freq=df$n, max.words = 400, min.freq = 1, random.order = F,
colors=c("gray37",rep("red2",6),rep("red3",10),rep("red4",20)))
wordcloud(df$words, freq=df$n, max.words = 400, min.freq = 1, random.order = F,
colors=c("gray37",rep("red2",6),rep("red3",10),rep("red4",20)))
palavras <- Banco_Corrigido %>%
select(`ASPECTO RADIOGRÁFICO`)
palavras <- na.omit(palavras)
string = palavras %>% str_c(collapse=" ")
string = gsub("[[:punct:]]","",string)
string = str_to_lower(string)
string = str_squish(string)
vec = strsplit(string," ")
df = data.frame(words=vec[[1]])
df <- df %>%
mutate(words = case_when(
words == "regiao" ~ "região",
words == "radiolucida" ~ "radiolúcido",
words == "radiolúcida" ~ "radiolúcido",
words == "unilocular" ~ "unilocular",
words == "cística" ~ "cístico",
words == "definida" ~ "definido",
words == "circunscrita" ~ "circunscrito",
words == "mandibula" ~ "mandíbula",
words == "apice" ~ "ápice",
words == "cistico" ~ "cístico",
words == "delimitada" ~ "delimitado",
words == "associada" ~ "associado",
words == "inclusa" ~ "incluso",
words == "expansiva" ~ "expansivo",
words == "radiolucido" ~ "radiolúcido",
words == "hipodensa" ~ "hipodenso",
words == "retida" ~ "retido",
words == "radiopaca" ~ "radiopaco",
words == "intraóssea" ~ "intraósseo",
words == "gordurosa" ~ "gorduroso",
TRUE ~ words
))
df = df %>%
mutate(n=1) %>%
group_by(words) %>%
summarise(n=sum(n)) %>%
mutate(len=str_length(words)) %>%
filter(len>3)
df = filter(df,!(words %in% c("38","48","13","34","46","12","33","47","em","da","do","de","a","com","ao","na","o","os","as","até","26","25","11","111213","22","24","37","15","28","sem","e","por")))
wordcloud(df$words, freq=df$n, max.words = 400, min.freq = 1, random.order = F,
colors=c("gray37",rep("red2",6),rep("red3",10),rep("red4",20)))
palavras <- Banco_Corrigido %>%
select(`ASPECTO RADIOGRÁFICO`)
palavras <- na.omit(palavras)
string = palavras %>% str_c(collapse=" ")
string = gsub("[[:punct:]]","",string)
string = str_to_lower(string)
string = str_squish(string)
vec = strsplit(string," ")
df = data.frame(words=vec[[1]])
df <- df %>%
mutate(words = case_when(
words == "raiz" ~ "raíz",
words == "area" ~ "área",
words == "regiao" ~ "região",
words == "radiolucida" ~ "radiolúcido",
words == "radiolúcida" ~ "radiolúcido",
words == "unilocular" ~ "unilocular",
words == "cística" ~ "cístico",
words == "definida" ~ "definido",
words == "circunscrita" ~ "circunscrito",
words == "mandibula" ~ "mandíbula",
words == "apice" ~ "ápice",
words == "cistico" ~ "cístico",
words == "delimitada" ~ "delimitado",
words == "associada" ~ "associado",
words == "inclusa" ~ "incluso",
words == "expansiva" ~ "expansivo",
words == "radiolucido" ~ "radiolúcido",
words == "hipodensa" ~ "hipodenso",
words == "retida" ~ "retido",
words == "radiopaca" ~ "radiopaco",
words == "intraóssea" ~ "intraósseo",
words == "gordurosa" ~ "gorduroso",
TRUE ~ words
))
df = df %>%
mutate(n=1) %>%
group_by(words) %>%
summarise(n=sum(n)) %>%
mutate(len=str_length(words)) %>%
filter(len>3)
df = filter(df,!(words %in% c("38","48","13","34","46","12","33","47","em","da","do","de","a","com","ao","na","o","os","as","até","26","25","11","111213","22","24","37","15","28","sem","e","por")))
wordcloud(df$words, freq=df$n, max.words = 400, min.freq = 1, random.order = F,
colors=c("gray37",rep("red2",6),rep("red3",10),rep("red4",20)))
library(readr)
athlete_events <- read_csv("C:/Users/Faculdade/Downloads/athlete_events.csv")
View(athlete_events)
library(tidyverse)
data <- athlete_events %>%
select(!= Games)
data <- athlete_events %>%
select(!Games)
View(data)
data <- athlete_events %>%
select(!Games) %>%
filter(Year == c(2000,2004,2008,2012,2016))
data <- athlete_events %>%
select(!Games) %>%
filter(Year = c(2000,2004,2008,2012,2016))
data <- athlete_events %>%
select(!Games) %>%
filter(Year == c(2000,2004,2008,2012,2016))
data <- athlete_events %>%
select(!Games) %>%
filter(Year == c(2000,2004,2008,2012,2016) && Season == "Summer")
data <- athlete_events %>%
select(!Games) %>%
filter(Year == c(2000,2004,2008,2012,2016))  %>%
filter(Season == "Summer")
data <- athlete_events %>%
select(!Games) %>%
filter(Year = c(2000,2004,2008,2012,2016))  %>%
filter(Season = "Summer")
data <- athlete_events %>%
select(!Games) %>%
filter(Year = c(2000,2004,2008,2012,2016))  %>%
filter(Season = "Summer") %>%
filter(!NA)
data <- athlete_events %>%
select(!Games) %>%
filter(Year = c(2000,2004,2008,2012,2016))  %>%
filter(Season = "Summer") %>%
filter(Medal !NA)
data <- athlete_events %>%
select(!Games) %>%
filter(Year = c(2000,2004,2008,2012,2016))  %>%
filter(Season = "Summer") %>%
filter(Medal != NA)
data <- athlete_events %>%
select(!Games) %>%
filter(Year = c(2000,2004,2008,2012,2016))  %>%
filter(Season = "Summer") %>%
filter(Medal !NA)
data <- athlete_events %>%
select(!Games) %>%
filter(Year %in% c(2000,2004,2008,2012,2016))  %>%
filter(Season = "Summer") %>%
filter(!is.na(Medal))
data <- athlete_events %>%
select(!Games) %>%
filter(Year %in% c(2000,2004,2008,2012,2016))  %>%
filter(Season == "Summer") %>%
filter(!is.na(Medal))
medalhistas <- table(data)
medalhistas <- data %>%
select(Name, Medal)
View(medalhistas)
table(medalhistas)
medalhas <- table(medalhistas)
medalhas <- as.data.frame(table(medalhistas))
View(medalhas)
medalhistas$Contagem <- "Medalha"
medalhas <- as.data.frame(table(medalhistas))
medalhistas$Medal <- "Medalha"
medalhistas <- data %>%
select(Name, Medal)
medalhas <- as.data.frame(table(medalhistas))
medalhistas$Medal <- "Medalha"
medalhas_geral <- as.data.frame(medalhistas)
View(medalhas_geral)
medalhas_geral <- as.data.frame(table(medalhistas))
sort(medalhas_geral)
sort(medalhas_geral)
head(sort(medalhas_geral$Freq))
sort(medalhas_geral$Freq)
sort(medalhas_geral$Freq, TRUE)
medalhas_gerais <- sort(medalhas_geral$Freq, TRUE)
View(medalhas_geral)
medalhas_gerais <- sort(medalhas_geral$Freq, TRUE)
medalhas_geral %>%
arrange(desc(Freq))
medalhas_geral %>%
head(arrange(desc(Freq)))
medalhas_geral %>%
arrange(desc(Freq)) %>%
head()
medalhas_geral %>%
arrange(desc(Freq)) %>%
head(3)
medalhas_geral %>%
arrange(desc(Freq)) %>%
barras <- medalhistas %>%
filter(Name %in% c("Michael Fred Phelps, II","Natalie Anne Coughlin (-Hall)","yan Steven Lochte"))
medalhas_geral %>%
arrange(desc(Freq)) %>%
barras <- medalhistas %>%
filter(Name %in% c("Michael Fred Phelps, II","Natalie Anne Coughlin (-Hall)","yan Steven Lochte"))
medalhas_geral %>%
arrange(desc(Freq)) %>%
barras <- medalhistas %>%
filter(Name %in% c("Michael Fred Phelps, II","Natalie Anne Coughlin (-Hall)","Ryan Steven Lochte"))
barras <- medalhistas %>%
filter(Name %in% c("Michael Fred Phelps II", "Natalie Anne Coughlin", "Ryan Steven Lochte"))
View(barras)
medalhas_geral %>%
arrange(desc(Freq)) %>%
barras <- data %>%
select(Name,Medal)
medalhas_geral %>%
arrange(desc(Freq)) %>%
barras <- data %>%
select(Name,Medal) %>%
filter(Name %in% c("Michael Fred Phelps II", "Natalie Anne Coughlin", "Ryan Steven Lochte"))
View(barras)
medalhas_geral %>%
arrange(desc(Freq)) %>%
barras <- data %>%
select(Name,Medal) %>%
filter(Name == c("Michael Fred Phelps II", "Natalie Anne Coughlin", "Ryan Steven Lochte"))
medalhas_geral %>%
arrange(desc(Freq)) %>%
barras <- data %>%
select(Name,Medal)
library(tidyverse)
medalhas_geral %>%
arrange(desc(Freq)) %>%
barras <- data %>%
select(Name,Medal)
barras <- data %>%
select(Name,Medal)
barras <- data %>%
select(Name,Medal) %>%
filter(Name %in% c("Michael Fred Phelps II", "Natalie Anne Coughlin", "Ryan Steven Lochte"))
View(barras)
barras <- data %>%
select(Name,Medal) %>%
filter(Name == c("Michael Fred Phelps II", "Natalie Anne Coughlin", "Ryan Steven Lochte"))
barras <- data %>%
select(Name,Medal) %>%
filter(Name == c("Michael Fred Phelps, II", "Natalie Anne Coughlin (-Hall)", "Ryan Steven Lochte"))
barras <- data %>%
select(Name,Medal) %>%
filter(Name == c("Michael Fred Phelps, II", "Natalie Anne Coughlin (-Hall)", "Ryan Steven Lochte"))
barras <- data %>%
select(Name,Medal) %>%
filter(Name == "Michael Fred Phelps, II")
barras <- data %>%
select(Name,Medal) %>%
filter(Name == c("Michael Fred Phelps, II", "Natalie Anne Coughlin (-Hall)", "Ryan Steven Lochte"))
barras <- data %>%
select(Name,Medal) %>%
filter(Name == "Michael Fred Phelps, II" | Name == "Natalie Anne Coughlin (-Hall)")
barras <- data %>%
select(Name,Medal) %>%
filter(Name == "Michael Fred Phelps, II" |
Name == "Natalie Anne Coughlin (-Hall)" |
Name == "Ryan Steven Lochte")
ggplot(medalhas_geral, aes(Name, Medal, group = Medal))+
geom_bar()
ggplot(medalhas_geral, aes(Name, group = Medal))+
geom_bar()
ggplot(medalhas_geral, aes(Name, group = Medal))+
geom_bar()
ggplot(medalhas_geral, aes(Name, group = Medal))+
geom_col()
ggplot(medalhas_geral, aes(Name,Medal, group = Medal))+
geom_col()
ggplot(medalhas_geral, aes(Name, Medal, fill = Medal))+
geom_col()
View(medalhistas)
View(medalhas_geral)
View(medalhas_geral)
View(medalhas_geral)
View(medalhas_geral)
View(medalhas)
barras2 <- medalhas %>%
filter(Name == "Michael Fred Phelps, II" |
Name == "Natalie Anne Coughlin (-Hall)" |
Name == "Ryan Steven Lochte")
View(barras2)
ggplot(barras, aes(Name, Medal, fill = Medal))+
geom_col()
ggplot(barras, aes(Name, Medal, fill = Medal))+
geom_col(position = dodge)
ggplot(barras, aes(Name, Medal, fill = Medal))+
geom_col(position = "dodge")
ggplot(barras2, aes(Name, Freq, fill = Medal))+
geom_col(position = "dodge")
medalhistas <- data %>%
select(Name, Medal, Sex, Team)
medalhistas_mulheres <- data %>%
select(Name, Medal, Sex, Team)
View(medalhistas_mulheres)
medalhistas_mulheres <- data %>%
select(Name, Medal, Sex, Team) %>%
filter(Sex = "F")
medalhistas_mulheres <- data %>%
select(Name, Medal, Sex, Team) %>%
filter(Sex == "F")
medalhistas_mulheres <- data %>%
select(Medal, Sex, Team) %>%
filter(Sex == "F")
medalhistas_mulheres <- data %>%
select(Medal, Sex, Team) %>%
filter(Sex == "F") %>%
select(!Sex)
medalhistas_mulheres$Medal <- "Medalhas"
medalhistas_mulheres <- as.data.frame(table(medalhistas_mulheres))
ggplot(medalhistas_mulheres, aes(Team, Freq))
ggplot(medalhistas_mulheres, aes(Team, Freq))+
geom_bar()
install.packages("tinytext")
installed.packages()
library(tinytex)
tinytex::install_tinytex()
library(tidyverse)
library(writexl)
library(readr)
athlete_events <- read_csv("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS/athlete_events.csv")
View(athlete_events)
data <- athlete_events %>%
select(Name, #Selecionar as variáveis que vão ser usadas:
Sex,
Age,
Height,
Weight,
Team,
Year,
Season,
Sport,
Event,
Medal) %>%
filter(Year %in% c(2000,2004,2008,2012,2016)) %>% #Somente os anos de 2000-2016.
filter(Season == "Summer") %>% #Somente verão.
drop_na(Medal) %>% #Somente medalhistas.
select(!Season) #Não será mais necessária.
#Transformar kilogramas em libras.
data$Weight <- data$Weight * 2.20462262
#Corrigir casos com país-n:
data <- data %>%
mutate(Team = gsub("-\\d+", "", Team))
View(data)
#Criar bancos separados:
setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS")
Ano2000 <- data %>%
filter(Year == 2000) %>%
select(!Year)
write_xlsx(Ano2000, "2000.xlsx")
Ano2004 <- data %>%
filter(Year == 2004) %>%
select(!Year)
write_xlsx(Ano2004, "2004.xlsx")
Ano2008 <- data %>%
filter(Year == 2008) %>%
select(!Year)
write_xlsx(Ano2008, "2008.xlsx")
Ano2012 <- data %>%
filter(Year == 2012) %>%
select(!Year)
write_xlsx(Ano2012, "2012.xlsx")
Ano2016 <- data %>%
filter(Year == 2016) %>%
select(!Year)
write_xlsx(Ano2016, "2016.xlsx")
setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS/XLSX")
X2000 <- read_excel("XLSX/Olimpiadas 2000 - 2016 (Verão).xlsx",
sheet = "Sydney")
library(readxl)
library(tidyverse)
library(readxl)
setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS/XLSX")
X2000 <- read_excel("XLSX/Olimpiadas 2000 - 2016 (Verão).xlsx",
sheet = "Sydney")
setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS/XLSX")
X2000 <- read_excel("XLSX/Olimpiadas 2000 - 2016 (Verão).xlsx",
sheet = "Sydney")
setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS")
X2000 <- read_excel("XLSX/Olimpiadas 2000 - 2016 (Verão).xlsx",
sheet = "Sydney")
X2000$Year <- 2000
X2004 <- read_excel("XLSX/Olimpiadas 2000 - 2016 (Verão).xlsx",
sheet = "Athina")
X2004$Year <- 2004
X2008 <- read_excel("XLSX/Olimpiadas 2000 - 2016 (Verão).xlsx",
sheet = "Beijing")
X2008$Year <- 2008
X2012 <- read_excel("XLSX/Olimpiadas 2000 - 2016 (Verão).xlsx",
sheet = "London")
X2012$Year <- 2012
X2016 <- read_excel("XLSX/Olimpiadas 2000 - 2016 (Verão).xlsx",
sheet = "Rio de Janeiro")
X2016$Year <- 2016
#Ajustar o nome das colunas:
colnames(X2000) <- c("Name","Sex","Age","Height","Weight","Team","Sport","Event","Medal","Year")
colnames(X2004) <- c("Name","Sex","Age","Height","Weight","Team","Sport","Event","Medal","Year")
colnames(X2008) <- c("Name","Sex","Age","Height","Weight","Team","Sport","Event","Medal","Year")
colnames(X2012) <- c("Name","Sex","Age","Height","Weight","Team","Sport","Event","Medal","Year")
colnames(X2016) <- c("Name","Sex","Age","Height","Weight","Team","Sport","Event","Medal","Year")
#Transformar peso em númerico:
X2000$Height <- as.numeric(X2000$Height)
X2004$Height <- as.numeric(X2004$Height)
X2008$Height <- as.numeric(X2008$Height)
X2012$Height <- as.numeric(X2012$Height)
X2016$Height <- as.numeric(X2016$Height)
#Fazer a junção dos bancos:
banco_unido <- bind_rows(X2000,X2004,X2008,X2012,X2016)
#Converter de libras para kilogramas:
banco_unido$Weight <- banco_unido$Weight / 2.20462262
#Salvar:
library(writexl)
#setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS/XLSX")
write_xlsx(banco_unido, "Gabarito_Banco_XLSX2.xlsx")
library(tidyverse)
library(writexl)
setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS")
setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS")
athlete_events <- read_csv("athlete_events.csv")
data <- athlete_events %>%
select(Name, #Selecionar as variáveis que vão ser usadas:
Sex,
Age,
Height,
Weight,
Team,
Year,
Season,
Sport,
Event,
Medal) %>%
filter(Year %in% c(2000,2004,2008,2012,2016)) %>% #Somente os anos de 2000-2016.
filter(Season == "Summer") %>% #Somente verão.
select(!Season) #Não será mais necessária.
View(data)
#Corrigir casos com país-n:
data <- data %>%
mutate(Team = gsub("-\\d+", "", Team))
View(data)
write.csv(data,"Banco_dashboard")
write.csv(data,"Banco_dashboard.csv")
library(tidyverse)
library(writexl)
setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS")
athlete_events <- read_csv("athlete_events.csv")
athlete_events <- read_csv("athlete_events.csv")
data <- athlete_events %>%
select(Name, #Selecionar as variáveis que vão ser usadas:
Sex,
Age,
Height,
Weight,
Team,
Year,
Season,
Sport,
Event,
Medal) %>%
filter(Year %in% c(2000,2004,2008,2012,2016)) %>% #Somente os anos de 2000-2016.
filter(Season == "Summer") %>% #Somente verão.
#drop.na(Medals) %>% #Somente medalhistas
select(!Season) #Não será mais necessária.
#Transformar kilogramas em libras.
data$Weight <- data$Weight * 2.20462262
#Corrigir casos com país-n:
data <- data %>%
mutate(Team = gsub("-\\d+", "", Team))
#Criar bancos separados:
setwd("C:/Users/Faculdade/OneDrive - unb.br/Área de Trabalho/Planilha para PS")
#bancos com NA
Ano2000 <- data %>%
filter(Year == 2000) %>%
select(!Year)
write_xlsx(Ano2000, "2000_NA.xlsx")
Ano2004 <- data %>%
filter(Year == 2004) %>%
select(!Year)
write_xlsx(Ano2004, "2004_NA.xlsx")
Ano2008 <- data %>%
filter(Year == 2008) %>%
select(!Year)
write_xlsx(Ano2008, "2008_NA.xlsx")
Ano2012 <- data %>%
filter(Year == 2012) %>%
select(!Year)
write_xlsx(Ano2012, "2012_NA.xlsx")
Ano2016 <- data %>%
filter(Year == 2016) %>%
select(!Year)
write_xlsx(Ano2016, "2016_NA.xlsx")
